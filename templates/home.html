{% extends "base.html" %}
{% block content %}
    <form method="POST" action="{{ url_for('upload') }}" enctype="multipart/form-data" class="form-horizontal">

        <div class="form-group">
        <span class="btn btn-default btn-file btn-danger" >
            <span class="glyphicon glyphicon-upload">
                <input type="file" name="file" required>
                <div class="center-block">Browse</div>
            </span>
        </span>
        </div>

        <div class="form-group">
        <span>
            <select class="form-control" id="select_method">
            {% for name in names %}
            <option value={{loop.index}}>{{ name }}</option>
            {% endfor %}
            </select>
        </span>
        </div>
        {% for desc in descriptions %}
            <div class="alert alert-info hide" role="alert" id="desc-{{loop.index}}">{{ desc }}</div>
        {% endfor %}
        <div class="form-group">
            <input type="submit" value="Upload">
        </div>
    </form>

{% endblock %}

{% block scripts %}
<script type="text/javascript">
	$(document).ready(function() {
        $("select[id=select_method]").change(function () {
            $('div[id*=desc-]').addClass('hide')
            $("#desc-" + $("select#select_method").val()).removeClass('hide');
        }).change();

        $("input[name=file]").change(function () {
            if ($(this).val) {
                $(this).parent().parent().removeClass('btn-danger');
                $(this).parent().parent().addClass('btn-success');
            } else {
                $(this).parent().parent().addClass('btn-danger');
                $(this).parent().parent().removeClass('btn-success');
            }
        }).change();
	});

	</script>
{% endblock %}